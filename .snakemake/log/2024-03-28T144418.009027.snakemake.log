Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 2
Rules claiming more threads will be scaled down.
Job stats:
job                   count
------------------  -------
unzip_fastqc_files        1
total                     1

Select jobs to execute...
Execute 1 jobs...

[Thu Mar 28 14:44:18 2024]
localrule unzip_fastqc_files:
    input: results/fastqc_output/ACBarrie_R2_fastqc.zip, results/fastqc_output/ACBarrie_R1_fastqc.zip
    output: results/fastqc_output/all_summary_stats.txt
    jobid: 0
    reason: Missing output files: results/fastqc_output/all_summary_stats.txt
    resources: tmpdir=/tmp

RuleException in rule unzip_fastqc_files in file /home/odette/stage-two/workflow/rules/sum.smk, line 13:
NameError: The name "basename $zip_file '" is unknown in this context. Please make sure that you defined that variable. Also note that braces not used for variable access have to be escaped by repeating them, i.e. {{print $1}}, when formatting the following:

        for zip_file in {input.input_files}; do
        unzip_dir=results/fastqc_output
        unzip "$zip_file" -d $unzip_dir
        cat "$unzip_dir/${basename $zip_file '.zip'}/summary.txt" >> {output.summary_stats}
        done
        
